本章覆盖有：

- 静态字符串是如何实现的
- 动态字符串是如何实现的
- 如何从动态字符串添加或删除字符
- 如何在静态字符串和动态字符串之间相互转换
- 如何合并字符串

## Static Strings

我们用到的字符串是可变的(changeable)吗？

某种层面上，她们是可变的(mutable)，我们可以改变它们：

```rust
let mut a = "Hel";
print!("{}", a);
a = "lo";
print!("{}", a);
```

我们这里的改变，是更改了整个字符串的内容，不是某些字符。实际上，这里将字符串变量，指派给了一个新的字面量或字符串变量。

但如果我们想要创建一个字符串，是由算法、文件读取、或由用户输入(type)的，这怎么实现？可以确切说，这些都可以做到，并且会改变字符串的内容，它们有一个不可变的`content`，这些内容不能对其中一两个字符进行重写。基于这个原因，这些字符内容(content)称作**静态字符串(static strings)**。下面例子理清一下：

```rust
use std::mem::*;
let a: &str = "";
let b: &str = "0123456789";
let c: &str = "abcdè";
print!("{} {} {}",
	size_of_val(a),
	size_of_val(b),
	size_of_val(c));
```

结果将打印“0 10 6”。

首先，我们指定了三个变量的类型。它们的类型是`&str`，即“`str`的引用”。

`str`这个词定义在标准库中，作为一个不可修改的字节数组，表示UTF-8字符串。编译器每次解析到字面量字符串时，它存储在一个字符串的字符静态程序区域，这个区域是`str`类型的。编译器使用一个引用(reference)，来表示字面量字符串表达式在该区域的值，因此任何字符串字面量的类型都是`&str`。

在例子中，泛型函数`size_of_val`入参三个字符串变量调用。还记得该函数返回引用对象的大小。如果参数是`a`，参数类型是`&str`，该函数会返回由`a`引用的字符串缓冲区的大小，即返回类型`str`的大小。

因此，这里打印出引用字符串缓冲区`a`、`b`和`c`的大小。分别大小由`0`、`10`和`6`字节。第一个字符串为空，第二个包含10个数，与此，第三个仅包含5个字符，却打印了6.这是因为UTF-8标注的原因。这种标注，取决于字符本身，每个字符由一个或多个字节表示。ASCII字符由1个字节表示，对于“grave e”字符，即“è”，由两个字节表示。因此，整个字符串大小是6个字节。




















































